---
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import LanguageSwitch from './LanguageSwitch.astro';

const t = useTranslations(Astro.url);
const base = import.meta.env.BASE_URL;
const isEn = getLangFromUrl(Astro.url) === 'en';
const homeUrl = isEn ? `${base}en` : base;
const helpUrl = isEn ? `${base}en/help` : `${base}help`;
---

<nav id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
  <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
    <a href={homeUrl} class="flex items-center gap-2.5">
      <img src={`${base}qollect-logo.svg`} alt="Qollect" class="w-8 h-8 rounded-lg" />
      <span class="text-lg font-bold text-text-primary">Qollect</span>
    </a>

    <div class="flex items-center gap-6">
      <a href={`${homeUrl}#features`} class="text-sm text-text-secondary hover:text-text-primary transition-colors">
        {t('nav.features')}
      </a>
      <a href={`${homeUrl}#download`} class="text-sm text-text-secondary hover:text-text-primary transition-colors">
        {t('nav.download')}
      </a>
      <a href={helpUrl} class="text-sm text-text-secondary hover:text-text-primary transition-colors">
        {t('nav.help')}
      </a>
      <LanguageSwitch />
    </div>
  </div>
</nav>
